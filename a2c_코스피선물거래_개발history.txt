제공해주신 8개의 Jupyter Notebook 파일은 **Advantage Actor-Critic (A2C)** 강화학습 알고리즘을 활용하여 코스피 200 선물 거래 전략을 고도화해 나가는 과정을 담고 있습니다. 각 버전별 주요 프로그램 컨셉과 특징을 요약한 설명서입니다.

---

### **코스피 200 선물 A2C 거래 프로그램 버전별 요약 문서**

이 프로그램 시리즈는 TensorFlow의 A2C 샘플을 기반으로 하며, 단순히 매수/매도를 결정하는 수준에서 점차 여러 모델을 조합(앙상블)하거나 거래 수량 및 손절 비율을 최적화하는 방향으로 발전되었습니다.

#### **1. 초기 및 기초 모델 (Version 1 ~ 3)**

* **v1 (`deepmoney_actor_critic.ipynb`)**:
* **컨셉**: 가장 기본적인 Actor-Critic 모델입니다.
* **상태(State)**: 지수(OHLC), 거래량, 파생 변수 및 현재 보유 상태를 입력값으로 사용합니다.
* **행동(Action)**: 고점(1), 저점(2), 중립(0)을 예측하여 매매 시그널을 생성합니다.


* **v2 ~ v3 (`...2.ipynb`, `...3.ipynb`)**:
* **컨셉**: v1을 코스피 200 선물 거래 환경에 맞춰 실질적인 수익률 계산 로직과 연결한 버전입니다.
* **특징**: 과거 60분봉 지수 변화와 현재의 수익률 및 보유 상태를 기반으로 매수/매도 시그널을 생성하도록 학습됩니다.



#### **2. 앙상블 모델 선택 전략 (Version 4 ~ 5)**

* **v4 (`...4.ipynb`)**:
* **컨셉**: 이미 학습된 여러 개의 DNN(Deep Neural Network) 앙상블 모델 중 **어떤 모델을 사용할지**를 RL이 결정합니다.
* **상태(State)**: n개 모델의 최근 수익률과 지수의 단기/중기/장기 변동률을 입력으로 받습니다.
* **행동(Action)**: 현재 시장 상황에 가장 적합한 모델의 번호를 선택하며, 선택된 모델의 시그널에 따라 거래합니다.


* **v5 (`...5.ipynb`)**:
* **컨셉**: v4와 유사하나, 입력 데이터(State) 구성을 **일 단위 수익률 상승률** 등으로 변경하여 모델 선택의 기준을 정교화했습니다.



#### **3. 거래 수량 및 리스크 관리 최적화 (Version 6 ~ 8)**

* **v6 ~ v7 (`...6.ipynb`, `...7.ipynb`)**:
* **컨셉**: 앙상블 모델의 매매 시그널은 그대로 따르되, **거래 수량(Quantity)**을 RL이 조절합니다.
* **상태(State)**: 수량 증감에 따른 수익률 변화 추이와 현재 포지션을 고려합니다.
* **행동(Action)**: 시장의 확신도에 따라 거래 수량을 늘리거나 줄여 수익을 극대화하고 리스크를 관리합니다.


* **v8 (`...8.ipynb`)**:
* **컨셉**: 포지션 진입 후 **최적의 손절 비율(Stop-loss Ratio)**을 RL이 결정합니다.
* **상태(State)**: 설정된 손절 비율에 따른 과거 수익률 변화와 현재 포지션 정보를 사용합니다.
* **행동(Action)**: 시장 변동성에 맞춰 손절 라인을 유동적으로 설정하여 손실은 최소화하고 이익 보존을 목표로 합니다.



---

### **요약표**

| 구분 | 주요 특징 (Action) | 상태 정의 (State) | 주요 발전 사항 |
| --- | --- | --- | --- |
| **v1~3** | 매수 / 매도 / 중립 결정 | 지수 데이터 + 보유 상태 | 기본 RL 거래 모델 구축 |
| **v4~5** | 최적 앙상블 모델 선택 | n개 모델의 최근 수익률 | 모델 조합을 통한 예측력 강화 |
| **v6~7** | 거래 수량 결정 | 수량별 수익 변화 추이 | 자금 관리 로직 도입 |
| **v8** | 손절 비율 결정 | 손절비별 수익 변화 추이 | 리스크 관리 최적화 |

이 문서들은 단순한 지수 예측을 넘어, 이미 개발된 모델들의 성과를 바탕으로 **최적의 의사결정(어떤 모델을 쓸지, 얼마나 살지, 언제 손절할지)**을 내리는 '메타 전략'으로의 진화를 보여줍니다.